<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🍫今日のおやつ占い🍩</title>
  <style>
    body {
      margin: 0;
      font-family: "Hiragino Maru Gothic ProN", sans-serif;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fad0c4);
      text-align: center;
      overflow: hidden;
    }

    #captureArea {
      padding: 20px;
      color: #fff;
      background: rgba(255, 255, 255, 0.6);
      border-radius: 20px;
      margin-top: 20px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
    }

    h1 {
      font-size: 28px;
      margin: 0;
    }

    .result {
      font-size: 22px;
      margin: 15px 0;
    }

    #uploadArea {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 30px;
    }

    #uploadArea input {
      font-size: 18px;
      padding: 8px;
      border-radius: 15px;
      border: 2px solid #ff69b4;
    }

    #uploadArea img {
      max-width: 80%;
      max-height: 400px;
      border-radius: 15px;
      margin-top: 20px;
      display: none;
    }

    .toolbar {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.8);
      padding: 15px;
      border-radius: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    .toolbar input, .toolbar button {
      margin: 5px;
      padding: 10px;
      border-radius: 15px;
      font-size: 16px;
      cursor: pointer;
    }

    .toolbar button {
      background: #ff69b4;
      color: white;
      border: none;
    }

    .share-buttons {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    .share-buttons button {
      margin: 0 10px;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>🍫今日のおやつ占い🍩</h1>
    <div class="card">
      <input type="text" id="name" placeholder="名前">
      <input type="date" id="birth">
      <input type="number" id="height" placeholder="身長 (cm)">
      <input type="number" id="weight" placeholder="体重 (kg)">
      <input type="number" id="sleep" placeholder="平均睡眠時間 (時間)">
      
      <select id="club">
        <option value="">部活・仕事（任意）</option>
        <option value="帰宅部">帰宅部</option>
        <option value="運動部">運動部</option>
        <option value="文化部">文化部</option>
        <option value="社会人">社会人</option>
      </select>

      <select id="gender">
        <option value="">性別（任意）</option>
        <option>男</option>
        <option>女</option>
        <option>選択しない</option>
      </select>
      <button onclick="startFortune()">占う</button>
    </div>

    <div id="loading"></div>
  </div>

  <div id="captureArea" style="display: none;">
    <h1>🍫占い結果🍩</h1>
    <div class="result" id="nickname"></div>
    <div class="result" id="fortuneResult"></div>
    <div class="result" id="fortuneDate"></div>
  </div>

  <!-- 画像アップロードエリア -->
  <div id="uploadArea" style="display: none;">
    <input type="file" id="imageUpload" accept="image/*" onchange="previewImage(event)">
    <img id="uploadedImage" src="" alt="Uploaded Image">
  </div>

  <!-- デザイン変更エリア -->
  <div class="toolbar">
    <h3>背景と枠のデザイン変更</h3>
    <label for="backgroundColor">背景色:</label>
    <input type="color" id="backgroundColor" value="#ff9a9e">
    
    <label for="borderColor">枠の色:</label>
    <input type="color" id="borderColor" value="#ff69b4">

    <label for="borderRadius">枠の形:</label>
    <input type="range" id="borderRadius" min="0" max="50" value="20">
    
    <div class="share-buttons">
      <button onclick="shareToFriends()">友達にシェア</button>
      <button onclick="shareToSNS()">SNSに投稿</button>
    </div>
  </div>

  <script>
    // ===== 実在おやつ100 =====
    const snacks = [
      "ポッキー", "極細ポッキー", "いちごポッキー", "アーモンドポッキー",
      "プリッツ", "サラダプリッツ", "トマトプリッツ",
      "キットカット", "オトナの甘さキットカット", "抹茶キットカット",
      "ブラックサンダー", "白いブラックサンダー", "ブラックサンダーミニ",
      "チロルチョコ", "きなこもちチロル", "ミルクチロル", "いちごチロル",
      "じゃがりこサラダ", "じゃがりこチーズ", "じゃがりこ明太子",
      "ポテトチップスうすしお", "ポテトチップスコンソメ", "ポテトチップスのり塩",
      "堅あげポテト", "ピザポテト", "カラムーチョ", "すっぱムーチョ",
      "かっぱえびせん", "サッポロポテト", "おっとっと",
      "きのこの山", "たけのこの里", "アポロ", "コアラのマーチ",
      "ハイチュウ", "ハイチュウグレープ", "ハイチュウソーダ",
      "ガルボ", "カントリーマアム", "チョコパイ",
      "エリーゼ", "アルフォート", "ルマンド",
      "ビスコ", "ムーンライト", "源氏パイ",
      "うまい棒コーンポタージュ", "うまい棒チーズ", "うまい棒めんたい",
      "ベビースター", "キャラメルコーン", "ミルキー",
      "ラムネ", "果汁グミ", "ピュレグミ",
      "忍者めし", "こんにゃくゼリー", "ヨーグレット",
      "ハイレモン", "板チョコ", "明治ミルクチョコ",
      "ダース", "LOOKチョコ", "トッポ",
      "クランキー", "チョコボールピーナッツ", "雪の宿",
      "ばかうけ", "歌舞伎揚", "柿の種",
      "たべっ子どうぶつ", "マーブルチョコ", "パイの実",
      "ホームパイ", "カプリコ", "フルーツゼリー",
      "どら焼き", "ミニたい焼き", "コンビニプリン",
      "シュークリーム", "エクレア", "ロールケーキ",
      "大福", "みたらし団子", "メロンパン",
      "クリームパン", "チョコスナックパン", "ポップコーン",
      "グラノーラバー", "ナッツミックス", "ビターチョコ",
      "ホワイトチョコ", "バナナチップス", "おにぎりせんべい"
    ];

    const drinks = [
      "コカ・コーラ", "コーラゼロ", "ファンタオレンジ", "ファンタグレープ",
      "カルピス", "カルピスソーダ", "三ツ矢サイダー",
      "メロンソーダ", "ジンジャーエール",
      "午後の紅茶ストレート", "午後の紅茶ミルク", "午後の紅茶レモン",
      "リプトンミルクティー", "抹茶ラテ", "カフェオレ",
      "ボスカフェオレ", "缶コーヒー微糖", "ブラックコーヒー",
      "ポカリスエット", "アクエリアス",
      "いろはす", "天然水", "炭酸水",
      "オレンジジュース", "アップルジュース", "グレープジュース",
      "野菜ジュース", "トマトジュース",
      "ウーロン茶", "緑茶", "麦茶", "ジャスミン茶",
      "ほうじ茶", "玄米茶",
      "ココア", "アイスココア", "コーヒー牛乳",
      "いちごミルク", "バナナオレ",
      "ヨーグルトドリンク", "乳酸菌飲料",
      "レモネード", "はちみつレモン", "スポーツドリンク",
      "レッドブル", "モンスターエナジー",
      "フルーツティー", "ピーチティー", "レモンティー",
      "黒烏龍茶", "豆乳", "調整豆乳",
      "スムージーいちご", "スムージーバナナ",
      "ラムネ", "冷やしあめ",
      "抹茶ミルク", "キャラメルラテ",
      "カフェラテ", "微糖コーヒー",
      "炭酸レモン", "炭酸グレープフルーツ",
      "マンゴージュース", "白ぶどうジュース",
      "アロエドリンク", "グリーンスムージー",
      "紅茶花伝", "ジャワティー",
      "コーンポタージュ缶", "おしるこ缶",
      "ホットレモン", "ホットミルク",
      "ペットボトルコーヒー", "甘酒",
      "フルーツミックスジュース", "梅ジュース",
      "青りんごジュース", "グァバジュース",
      "パインジュース", "ソルティライチ",
      "ビタミンウォーター", "レモンスカッシュ",
      "ピーチネクター", "ぶどうソーダ",
      "オレンジスカッシュ", "メッツコーラ",
      "キレートレモン", "MATCH",
      "リアルゴールド", "ミロ",
      "ほろよい風炭酸（ノンアル）", "豆乳バナナ"
    ];

    const messages = [
      "今日は無理しなくて大丈夫。",
      "小さな一歩が未来を変える。",
      "笑顔が運を引き寄せる。",
      "焦らなくていい。",
      "自分をちゃんと褒めて。",
      "あなたならできる。",
      "挑戦がチャンスを呼ぶ。",
      "友達との時間を大切に。",
      "今日は早めに休もう。",
      "深呼吸でリセット。",
      "好きなことを思い出して。",
      "小さな幸せを見つけて。",
      "失敗は成長のチャンス。",
      "自分のペースで進もう。",
      "努力はちゃんと実る。",
      "今日はラッキーが近い。",
      "前向きな言葉を使おう。",
      "ありがとうを伝えてみて。",
      "今のあなたで十分。",
      "焦らずゆっくり。",
      "未来は明るい。",
      "今日もちゃんと頑張ってる。",
      "あなたは一人じゃない。",
      "勇気はもう持っている。",
      "今日はチャンスの日。",
      "自信を持って。",
      "小さな成功を喜ぼう。",
      "笑顔は最強の武器。",
      "今日は挑戦デー。",
      "無理しすぎないで。",
      "優しさが運を呼ぶ。",
      "あなたの個性は宝物。",
      "今日は新しい発見がある。",
      "ポジティブが鍵。",
      "今日の努力は未来の味方。",
      "好きな色を身につけて。",
      "今を楽しもう。",
      "きっと大丈夫。",
      "笑顔で乗り越えよう。",
      "小さな勇気が未来を変える。",
      "今日は自分にご褒美。",
      "直感を信じて。",
      "焦りは手放そう。",
      "心を軽くして。",
      "今日は前進の日。",
      "自分らしく輝こう。",
      "今できることをやろう。",
      "笑顔は連鎖する。",
      "今日も応援してる。",
      "小さな親切が幸運に。",
      "明日はもっと良くなる。",
      "今日の出会いを大切に。",
      "あなたは強い。",
      "自分を信じる日。",
      "今日はポジティブデー。",
      "諦めない心が鍵。",
      "小さな変化が大きな未来。",
      "今日は運が味方。",
      "大丈夫、進んでる。",
      "笑顔を忘れないで。",
      "今日は深呼吸の日。",
      "小さな幸せに気づいて。",
      "未来は自分で作れる。",
      "今日の選択が未来を変える。",
      "今を大切に。",
      "あなたの努力は本物。",
      "今日はチャンスが来る。",
      "好きなことに正直に。",
      "今日も素敵な一日。",
      "自分を好きでいよう。",
      "今日は自信を持つ日。",
      "優しさが未来を変える。",
      "焦らなくていいよ。",
      "今日はラッキーサインがある。",
      "一歩踏み出そう。",
      "今日の挑戦が宝物。",
      "あなたは可能性の塊。",
      "今日は運気上昇。",
      "心配しなくていい。",
      "今日の行動が鍵。",
      "笑顔で過ごそう。",
      "今日は自分時間を。",
      "小さな前進でOK。",
      "今日も生きてるだけで偉い。",
      "未来は味方。",
      "今日はいい日になる。",
      "あなたは価値がある。",
      "今日は勇気を出す日。",
      "好きな音楽でリフレッシュ。",
      "今日は笑顔デー。",
      "自分を大切に。",
      "今日はチャンス到来。",
      "あなたなら乗り越えられる。",
      "今日は安心していい。",
      "未来は明るいよ。",
      "今日も前進中。"
    ];

    // ランダムな占い結果
    function generateRandomFortune(){
      const today = new Date().toISOString().split("T")[0];
      const randomIndex = Math.floor(Math.random() * 100);

      return {
        snack: snacks[randomIndex],
        drink: drinks[randomIndex],
        message: messages[randomIndex],
        date: today
      };
    }

    // ローカルストレージに結果を保存
    function saveFortune(fortune){
      localStorage.setItem("fortune", JSON.stringify(fortune));
    }

    // ローカルストレージから結果を取得
    function getSavedFortune(){
      const savedFortune = localStorage.getItem("fortune");
      return savedFortune ? JSON.parse(savedFortune) : null;
    }

    // 占いのスタート
    function startFortune() {
      const savedFortune = getSavedFortune();
      const today = new Date().toISOString().split("T")[0];

      if (savedFortune && savedFortune.date === today) {
        openResult(savedFortune);
      } else {
        const fortune = generateRandomFortune();
        saveFortune(fortune);
        openResult(fortune);
      }
    }

    // 占い結果を表示
    function openResult(fortune) {
      document.getElementById("nickname").innerText = `ラッキーおやつ: 🍪 ${fortune.snack}`;
      document.getElementById("fortuneResult").innerText = `ラッキー飲み物: 🥤 ${fortune.drink}`;
      document.getElementById("fortuneDate").innerText = `占い日時: ${fortune.date}`;

      document.getElementById("captureArea").style.display = "block";
      document.getElementById("uploadArea").style.display = "block";
    }

    // 画像プレビュー
    function previewImage(event){
      const file = event.target.files[0];
      const reader = new FileReader();

      reader.onload = function(){
        const img = document.getElementById("uploadedImage");
        img.style.display = "block";
        img.src = reader.result;
      };

      reader.readAsDataURL(file);
    }

    // 友達にシェア
    function shareToFriends(){
      alert("友達にシェアしました！📱");
    }

    // SNSに投稿
    function shareToSNS(){
      alert("SNSに投稿しました！📲");
    }
  </script>

</body>
</html>
